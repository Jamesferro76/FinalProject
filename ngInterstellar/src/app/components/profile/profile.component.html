
  <div *ngIf="selected &&displayAllInfo && !basicEdit && !sexualityEdit && !locationEdit">




    <div class="topLeft" >

  <h1>Basic info:</h1>
  <h4>{{ selected.firstName }} {{selected.lastName}}</h4>
  <p>Description: {{ selected.description }}</p>
  <p>Age: {{ selected.age }} </p>
  <p>Birthday: {{ selected.birthday }} </p>
  <p>{{ selected.updatedOn }}</p>
  <button (click)="basicEdit=true">Edit basics</button>
  <hr>
  <hr>

  </div>

  <div class="topRight">

    <h1>Location:</h1>
    <div *ngIf="selected.address">
      <p>{{ selected.address.street }} {{selected.address.city}}
        {{ selected.address.state }} {{selected.address.zip}} {{selected.address.country}}</p>
      </div>
      <button (click)="locationEdit=true">editAddress</button>
      <hr>
      <hr>

  </div>

  <div class="upperLeft">

    <h1>Sexuality:</h1>
    <p>{{ selected.sex }}</p>
    <h5>Preferences:</h5>
    <div *ngFor="let pref of selected.preferences">{{ pref.name }}</div>
    <h5>Categories</h5>
    <div *ngFor="let cat of selected?.categories">{{ cat.name }}</div>
    <button (click)="sexualityEdit=true">Edit Sexuality</button>
    <hr>
    <hr>

  </div>

  <div class="bottomCenter">

    <h1>Images:</h1>
  Profile Pic:
  <img [src]="selected.profilePic" />
  <h5>Pics:</h5>
  <div *ngFor="let pic of selected.images">
    <img [src]="pic.imageUrl" class="pfp" />
  </div>
  <button (click)="picsEdit=true">Edit pictures</button>
  <hr>
  <hr>

  </div>

<div class="midLeft">

  <h5>People into you:</h5>
  <div *ngFor="let fav of selected?.favoriter">
    {{ fav.firstName }}{{ fav.age }}
    <img [src]="fav.profilePic" />
  </div>

</div>

<div class="upperRight">

  <h5>Mixers Hosting:</h5>
  <div *ngFor="let mixer of selected?.mixers">{{ mixer.name }}</div>

</div>

<div class="midRight">

  <h5>Mixers Attending:</h5>
  <div *ngFor="let mixer of selected?.mixersAttending">{{ mixer.name }}</div>

</div>

</div>



<div *ngIf="!selected&&!editProfile&&!basicEdit">
  <h1>It seems you don't have a profile</h1>
  <h4>Let's get one set up in 4 simple steps</h4>
  <button type="button" (click)="createProfile()">Let's get started</button>
</div>

<div *ngIf="basicEdit&&!editProfile">
  <h1>Basic Info</h1>
  <form action="createProfile">
    <label for="firstName" *ngIf="newProfile.firstName==''" class="red-letters">First Name:</label>
    <label for="firstName" *ngIf="newProfile.firstName!=''">First Name:</label>
    <input
      type="text"
      name="firstName"
      [(ngModel)]="newProfile.firstName"
    /><br />
    <label for="lastName" *ngIf="newProfile.lastName==''" class="red-letters">Last Name:</label>
    <label for="lastName" *ngIf="newProfile.lastName!=''">Last Name:</label>
    <input
      type="text"
      name="lastName"
      [(ngModel)]="newProfile.lastName"
    /><br />
    <label for="lastName" *ngIf="newProfile.description==''" class="red-letters">Description:</label>
    <label for="lastName" *ngIf="newProfile.description!=''">Description:</label>
    <input
      type="text"
      name="description"
      [(ngModel)]="newProfile.description"
    /><br />
    <label for="lastName" *ngIf="newProfile.age<18" class="red-letters">Age:</label>
    <label for="lastName" *ngIf="newProfile.age>=18">Age:</label>
    <input type="number" name="age" min="18" [(ngModel)]="newProfile.age"/><br />

    <label for="lastName" *ngIf="newProfile.birthday==''" class="red-letters">Birthday:</label>
    <label for="lastName" *ngIf="newProfile.birthday!=''">Birthday:</label>

    <input type="date" name="birthday" [(ngModel)]="newProfile.birthday"/>

    <button type="button" *ngIf="newProfile.firstName!=''&&newProfile.lastName!=''&&newProfile.description!=''
    &&newProfile.age>=18&&newProfile.birthday!=''"
    (click)="basicEditCreate()">Save</button>
    <div *ngIf="newProfile.firstName==''||newProfile.lastName==''||newProfile.description==''
    ||newProfile.age<18||newProfile.birthday==''" class="redletters">
  Please fill out all the information before saving.
  </div>
  </form>
</div>

<div *ngIf="basicEdit&&editProfile">
  <form action="createProfile">
    <label for="firstName" *ngIf="editProfile.firstName==''" class="red-letters">First Name:</label>
    <label for="firstName" *ngIf="editProfile.firstName!=''">First Name:</label>
    <input
      type="text"
      name="firstName"
      [(ngModel)]="editProfile.firstName"
      required
    /><br />
    <label for="lastName" *ngIf="editProfile.lastName==''" class="red-letters">Last Name:</label>
    <label for="lastName" *ngIf="editProfile.lastName!=''">Last Name:</label>
    <input
      type="text"
      name="lastName"
      [(ngModel)]="editProfile.lastName"
      required
    /><br />
    <label for="lastName" *ngIf="editProfile.description==''" class="red-letters">Description:</label>
    <label for="lastName" *ngIf="editProfile.description!=''">Description:</label>
    <input
      type="text"
      name="description"
      [(ngModel)]="editProfile.description"
    /><br />
    <label for="lastName" *ngIf="editProfile.age<18" class="red-letters">Age:</label>
    <label for="lastName" *ngIf="editProfile.age>=18">Age:</label>
    <input type="number" name="age" min="18" [(ngModel)]="editProfile.age"/><br />

    <label for="lastName" *ngIf="editProfile.birthday==''" class="red-letters">Birthday:</label>
    <label for="lastName" *ngIf="editProfile.birthday!=''">Birthday:</label>
    <input type="text" name="birthday" [(ngModel)]="editProfile.birthday"/>

    <button type="button" *ngIf="newProfile.firstName!=''&&newProfile.lastName!=''&&newProfile.description!=''
    &&newProfile.age>=18&&newProfile.birthday!=''" (click)="basicEditSave()">Save</button>
    <button type="button" *ngIf="!initialCreate" (click)="basicEdit=false">Cancel</button>
  </form>
</div>

<div *ngIf="!basicEdit&&sexualityEdit&&editProfile">
  <form action="createProfile">

    <Label for="sex" *ngIf="editProfile.sex==''" class="red=letters">Sex:</Label>
    <Label for="sex" *ngIf="editProfile.sex!=''">Sex:</Label>
    <select name="sex" [(ngModel)]="editProfile.sex">
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Non-Binary">Non-Binary</option>
      <option value="Trans Man">Trans Man</option>
      <option value="Trans Woman">Trans Woman</option>
      <option value="Gender-Fluid">Gender-Fluid</option>
      <option value="None">Prefer not to say</option>
    </select>

    <h4>Preferences</h4>
    <div *ngFor="let pref of preferences; index as i">
      {{ pref.name }}:<input
        name="pref"
        type="checkbox"
        [ngModelOptions]="{ standalone: true }"
        [(ngModel)]="editProfile.preferences[i]"
      />
    </div>

    <h4>Categories</h4>
    <div *ngFor="let cat of categories; index as i">
      {{ cat.name }}:<input
        name="cat"
        type="checkbox"
        [ngModelOptions]="{ standalone: true }"
        [(ngModel)]="editProfile.categories[i]"
      />
    </div>

    <button type="button" *ngIf="editProfile.sex!=''" (click)="sexualityEditSave()">Save</button>
    <button type="button" *ngIf="!initialCreate" (click)="sexualityEdit=false">Cancel</button>
  </form>
</div>

<div *ngIf="!sexualityEdit&&locationEdit&&editProfile">
  <form action="createProfile">

    <Label for="sex" *ngIf="newAddress.street==''" class="red=letters">Street:</Label>
      <Label for="sex" *ngIf="newAddress.street!=''">Street:</Label>
        Street:<input
        type="text"
        name="street"
        [(ngModel)]="newAddress.street"
      /><br />

      <Label for="sex" *ngIf="newAddress.city==''" class="red=letters">City:</Label>
      <Label for="sex" *ngIf="newAddress.city!=''">City:</Label>
        city:<input
        type="text"
        name="city"
        [(ngModel)]="newAddress.city"
      /><br />

    <Label for="sex" *ngIf="newAddress.state==''" class="red=letters">State:</Label>
    <Label for="sex" *ngIf="newAddress.state!=''">State:</Label>
      <select name="state" [(ngModel)]="newAddress.state">
          <option *ngFor="let state of stateAbr" value="{{state}}">{{state}}</option>
        </select>
        <br/>

        <Label for="sex" *ngIf="newAddress.zip==''" class="red=letters">Zip:</Label>
      <Label for="sex" *ngIf="newAddress.zip!=''">Zip:</Label>
        <input
        type="text"
        name="zip"
        [(ngModel)]="newAddress.zip"
      /><br />
      <Label for="sex" *ngIf="newAddress.country==''" class="red=letters">Country:</Label>
      <Label for="sex" *ngIf="newAddress.country!=''">Country:</Label>
        <input
        type="text"
        name="country"
        [(ngModel)]="newAddress.country"
      /><br />
    <button type="button" *ngIf="newAddress.street!=''&&newAddress.city!=''&&newAddress.state!=''
    &&newAddress.zip!=''&&newAddress.country!=''"
    (click)="locationEditSave(newAddress)">Save</button>
    <button type="button" *ngIf="!initialCreate" (click)="locationEdit=false">Cancel</button>
  </form>
</div>

<div *ngIf="!locationEdit&&picsEdit&&editProfile">
  <img [src]="editProfile.profilePic" />
  <Label for="sex" *ngIf="editProfile.profilePic==''" class="red=letters">Profile Pic:</Label>
  <Label for="sex" *ngIf="editProfile.profilePic!=''">Profile Pic:</Label>
  <input
  type="text"
  name="profilePic"
  [(ngModel)]="editProfile.profilePic"
  /><br />
  <div *ngFor="let pic of editProfile.images; index as i" (click)="deletePic(i)">
    <img [src]="pic.imageUrl" />
  </div>
  Image URL:<input
    type="text"
    name="imageUrl"
    [(ngModel)]="newImage.imageUrl"
  />
  <button type="button" (click)="addImageToProfile()">Add another image?</button>
  <button type="button" *ngIf="editProfile.profilePic!=''" (click)="picsEditSave()">Save</button>
  <button type="button" *ngIf="!initialCreate" (click)="picsEdit=false">Cancel</button>
</div>


<!-- Trying out cards to display profile  -->
<div *ngIf="selected&&displayProfile&&!initialCreate" >
  <div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-{{1}}">
      <div class ="box-item">
        <div class ="flip-box">
          <div class ="flip-box-front text-left" style="background-image:url({{selected.profilePic}});">
            <div class="inner color-white">
              <h3 class ="flip-box-header"> {{selected.firstName}} {{selected.age}}</h3>
              <span>{{selected.sex}} {{selected.address.state}}</span><br/>
              Preferences: <span *ngFor="let pref of selected.preferences">{{pref.name}} </span><br/>
            </div>
          </div>
          <div class="flip-box-back" style="background-image:url({{selected.images[counterForPic].imageUrl}});">
            <div class="inner color-white background-purple">
              <span class="text-start" (click)="selectPicBackward(selected.images)">Last pic </span>
              <span class="float-end" (click)="selectPicForward(selected.images)">Next pic</span><br/>
              Categories: <span *ngFor="let cat of selected.categories">{{cat.name}} </span>
              <p>{{selected.description}}</p>
            </div>
          </div>
        </div>
    </div>
    </div>
  </div>
</div>

<!-- Edit profile -->
<div *ngIf="selected&&displayUpdate" >
  <div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-{{1}}">
      <div class ="box-item">
        <div class ="flip-box">
          <div class ="flip-box-front-edit text-left" style="background-image:url({{selected.profilePic}});">
            <div class="inner color-white">
              <h3 class ="flip-box-header" (click)="displayBasicEdit()"> {{selected.firstName}} {{selected.age}}</h3>
              <span (click)="displayLocationEdit()">{{selected.sex}} {{selected.address.state}}</span><br/>
              <div (click)="displaySexualityEdit()">
              Preferences: <span *ngFor="let pref of selected.preferences">{{pref.name}} </span><br/>
            </div>
            </div>
          </div>
          </div>
          </div>
          </div>
          </div>

          <div class="container">
            <div class="row row-cols-1 row-cols-md-3 g-{{1}}">
              <div class ="box-item">
                <div class ="flip-box">
          <div class="flip-box-back-edit" style="background-image:url({{selected.images[counterForPic].imageUrl}});">
            <div class="inner color-white background-purple">
              <span class="text-start" (click)="selectPicBackward(selected.images)">Last pic </span>
              <span class="text-center" (click)="displayPicsEdit()">Edit pics</span>
              <span class="float-end" (click)="selectPicForward(selected.images)">Next pic</span><br/>
              <div (click)="displaySexualityEdit()">
              Categories: <span *ngFor="let cat of selected.categories">{{cat.name}} </span>
            </div>
              <p (click)="displayBasicEdit()">{{selected.description}}</p>
            </div>
          </div>
        </div>
    </div>
    </div>
  </div>
</div>

<div *ngIf="selected&&!initialCreate">
  <button (click)="displayAllInfoPage()">See all profile info</button>
  <button (click)="displayUpdatePage()">Edit profile</button>
  <button (click)="displayProfilePage()">See Profile</button>
</div>
