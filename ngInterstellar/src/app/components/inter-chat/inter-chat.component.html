


<body>
<div class="container-fluid h-100">

  <div class="col-sm-3 chat">
    <div class="card mb-sm-3 contacts_card">
 					<div class="card-header">
             <h2>Stars</h2>
					</div>
					<div class="card-body contacts_body">
						<ul class="contacts"  id="usersList">
              <li class="list-group-item" *ngFor="let match of matches" (click)="selectedProfile = match;id=match.id;display()">
                <strong>{{match.firstName}}</strong>
              </li>
						</ul>
					</div>

				</div>
				</div>
</div>



        <main class="chat" *ngIf="selected">
          <div class="container-fluid w-100" >
      <form>
        <div class="chat-content" >
          <div class="card" >
        <div class="card-header">
          <h2 class="clickable" (click)="toProfilePage(selected.id)">Chat with {{selectedProfile.firstName}}</h2>
        </div>
<div  class="content" #scrollBottom id="dataDiv">
  <div class="container-fluid" >
    <ul class="list-group list-group-flush" #scrollBottom id="dataDiv">
      <div >


      <li class="imessage"  *ngFor="let message of chatHistory">
        <div  class="alignLeft">
        <div *ngIf="loggedInUser.username != message.sender.username">
          <p class="from-them">{{message.content}}</p>
        </div>
      </div>

      <div class="alignRight">
        <div class="test" *ngIf="loggedInUser.username == message.sender.username">
          <p class="from-me">{{message.content}}</p>
        </div>
      </div>
    </li>
      </div>
  </ul>
    </div>

  <div id="anchor"></div>
</div>





        <!-- <ul class="list-group list-group-flush" #scrollBottom id="dataDiv">
          <li class="list-group-item" *ngFor="let message of chatHistory">
            <div *ngIf="loggedInUser.username == message.sender.username" class="alignRight">
            <strong class="myText">You:</strong> <br>
            <span class="from-me">{{message.content}}</span>
            </div>
            <div *ngIf="loggedInUser.username != message.sender.username">
              <strong class="yourText">{{selectedProfile.firstName}}:</strong> <br>
              <span class="from-them">{{message.content}}</span>
              </div>
          </li>
        </ul> -->




      </div>
      <div id="anchor"></div>
    </div>
      <div class="chat-send row">
        <div class="col-2">
          <input type="hidden" class="form-control" name="sender" id="input-user" [(ngModel)]="newMessage.sender">
        </div>
        <div class="col-8">
          <input type="hidden" class="form-control" name="recipient" id="input-message" [(ngModel)]="selected.username" >
        </div>
        <div class="col-8">
          <input class="form-control" name="content" placeholder="Type your message..." id="input-message"  [(ngModel)]="newMessage.content">
        </div>
        <div class="col-2">
          <button type="submit" class="btn btn-primary" (click)="addMessage()">Send</button>

        </div>
      </div>
    </form>
  </div>

  <div>
    <button class="btn btn-danger" (click)="openPopup()">Block</button>
  </div>

  <div
  class="modal"
  tabindex="-1"
  role="dialog"
  [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Are you sure?</h4>
      </div>
      <div class="modal-body">
        <p>Once you block someone you will no longer appear in each other's searches or Stars.</p>
        <br/>
        <p>Reason for blocking:</p>
        <input type="text" name="reason" [(ngModel)]="reason">

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary"(click)="closePopup()">
          Close
        </button>
          <button type="button" class="btn btn-danger" (click)="block()">
            Block
        </button>
      </div>
    </div>
  </div>
</div>


</main>
  </body>




